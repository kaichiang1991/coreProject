!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(function(){return t={766:(t,e,n)=>{const{name:i,version:r}=n(37);t.exports={name:i,version:r,size:{width:720,height:1280},fps:60,canUseWebp:!1,portrait:!0}},134:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return a(e,t),e},c=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.eButtonState=e.PixiAsset=e.eAssetType=void 0;var f=u(n(295));window.PIXI=f;var h=n(799),m=d(n(15));window.gsap=m.default;var v,y,g,x,b=n(766);!function(t){t[t.img=0]="img",t[t.spriteSheet=1]="spriteSheet",t[t.spine=2]="spine",t[t.font=3]="font",t[t.particle=4]="particle"}(v=e.eAssetType||(e.eAssetType={})),g=e.PixiAsset||(e.PixiAsset={}),x=function(){function t(){}return t.init=function(t){console.log("%c"+b.name+" 版號: "+b.version,"color:#E6A23C; background-color:#909399; font-size:16px; padding:0 5px; font-family: 600 Ariel"),this.loader=t.loader,this.renderer=t.renderer},t.loadAsset=function(t){return c(this,void 0,void 0,(function(){var e,n=this;return l(this,(function(i){switch(i.label){case 0:return e=new Array,Array.isArray(t)||(t=[t]),t.map((function(t){var i=t.name,r=t.source;n.loader.resources[i]?Debug.log("loadAsset",i," exist."):n.checkLoadArg(t)?n.loader.add(i,r).onComplete.add((function(){return e.push(n.parseAsset(t))})):Debug.log("checkLoadArg fail",t)})),[4,Promise.all(p([new Promise((function(t){return n.loader.load((function(){return t()}))}))],e))];case 1:return i.sent(),[2]}}))}))},t.getAsset=function(t){var e;return t&&!(null===(e=this.loader)||void 0===e?void 0:e.resources[t])&&Debug.log("getAsset fail.",t),this.loader.resources[t]},t.getTexture=function(t){return t&&!f.utils.TextureCache[t]&&Debug.log("getTexture fail.",t),f.utils.TextureCache[t]},t.parseAsset=function(t){return c(this,void 0,void 0,(function(){var e,n,i,r=this;return l(this,(function(o){switch(e=t.type,n=t.name,i=t.source,e){case v.img:this.renderer.plugins.prepare.upload(this.getTexture(n));break;case v.spriteSheet:this.renderer.plugins.prepare.upload(this.getTexture(n+"_image"));break;case v.spine:Object.keys(this.loader.resources).map((function(t){new RegExp(n+"_atlas_").test(t)&&r.renderer.plugins.prepare.add(r.getTexture(t))})),this.renderer.plugins.prepare.upload();break;case v.font:this.renderer.plugins.prepare.add(this.getTexture(i.replace(/\.fnt/,"_0.png"))),this.renderer.plugins.prepare.upload()}return[2]}))}))},t.checkLoadArg=function(t){var e=!0,n=t.type,i=t.name;switch(n){case v.img:case v.spriteSheet:case v.spine:e=!!i}return e},t}(),g.AssetLoader=x,function(t){var e=function(){function t(){}return t.getJson=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,new Promise((function(e){var n=t.match(/\/([\w-]*)(\.json)/)[1];f.Loader.shared.add(n,t).load((function(t,i){e(i[n].data)}))}))]}))}))},t}();t.JSON=e}(e.PixiAsset||(e.PixiAsset={})),function(t){var e=function(t){function e(e,n){void 0===n&&(n=0);var i=t.call(this)||this;return i.name=e,i.zIndex=n,i}return r(e,t),e}(f.Container);t.Container=e;var n=function(t){function e(e,n,i,r){void 0===n&&(n=0),void 0===i&&(i=new f.Point);var o=t.call(this,r)||this;return o.name=e,o.zIndex=n,null==i||i.copyTo(o.position),o}return r(e,t),e.prototype.drawColorCircle=function(t,e,n,i){return this.beginFill(t,e).drawCircle(n.x,n.y,i).endFill(),this},e.prototype.drawColorRect=function(t,e,n,i,r,o){return void 0===o&&(o=0),this.beginFill(t,e).drawRoundedRect(n.x,n.y,i,r,o).endFill(),this},e}(f.Graphics);t.Graphics=n;var i=function(e){function n(n){return e.call(this,t.AssetLoader.getTexture(n))||this}return r(n,e),n}(f.Sprite);t.Sprite=i;var o=function(e){function n(t,n){return void 0===n&&(n=!0),"string"==typeof t[0]&&(t=t.map((function(t){return f.Texture.from(t)}))),e.call(this,t,n)||this}return r(n,e),n.init=function(e){return c(this,void 0,void 0,(function(){var n,i,r=this;return l(this,(function(o){switch(o.label){case 0:return n=v.spriteSheet,i=Object.keys(e),[4,t.AssetLoader.loadAsset(i.map((function(t){return{type:n,name:e[t].name,source:e[t].source}})))];case 1:return o.sent(),i.map((function(n){var i;r.animSpriteMap[n]="string"==typeof e[n].animName?null===(i=t.AssetLoader.getAsset(e[n].name).spritesheet)||void 0===i?void 0:i.animations[e[n].animName]:e[n].animName.map((function(t){return f.Texture.from(t)}))})),[2]}}))}))},n.playAnimation=function(t,e){if(!this.animSpriteMap[t])return Debug.log("playAnimation",t,"not exist"),null;var i=new n(this.animSpriteMap[t]);if(e){var r=e.animSpeed,o=e.loop,s=e.autoPlay;i.animationSpeed=r||i.animationSpeed,i.loop=null==o||o,s&&i.play()}return i},n.animSpriteMap={},n}(f.AnimatedSprite);t.AnimatedSprite=o}(e.PixiAsset||(e.PixiAsset={})),function(t){var e=function(e){function n(n){return e.call(this,t.AssetLoader.getAsset(n).spineData)||this}return r(n,e),n.init=function(e){return c(this,void 0,void 0,(function(){var n,i;return l(this,(function(r){switch(r.label){case 0:return n=Object.keys(e),i=v.spine,[4,t.AssetLoader.loadAsset(n.map((function(t){return{name:t,type:i,source:e[t]}})))];case 1:return r.sent(),[2]}}))}))},n.playSpine=function(t,e,i){void 0===i&&(i=!1);var r=new n(t);return[r,e?r.state.setAnimation(0,e,i):null]},n.prototype.setAnimation=function(t,e){return void 0===e&&(e=!1),this.setAnimationWithIndex(0,t,e)},n.prototype.setAnimationWithLatestIndex=function(t,e){return void 0===e&&(e=!1),this.setAnimationWithIndex(this.getLatestTrackIndex(),t,e)},n.prototype.setAnimationWithIndex=function(t,e,n){return void 0===n&&(n=!1),this.resetSpine(),this.state.setAnimation(t,e,n)},n.prototype.addAnimation=function(t,e,n,i,r){return void 0===e&&(e=!1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=!0),this.addAnimationWithIndex(0,t,e,n,i,r)},n.prototype.addAnimationWithIndex=function(t,e,n,i,r,o){void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=!0);var s=this.state.getCurrent(t);return o&&(s.loop=!1),0!=r&&this.stateData.setMix(s.animation.name,e,r),this.state.addAnimation(t,e,n,i)},n.prototype.setEmptyAnimation=function(t,e){void 0===e&&(e=0),this.state.setEmptyAnimation(t,e)},n.prototype.setEmptyAnimations=function(t){void 0===t&&(t=0),this.state.setEmptyAnimations(t)},n.prototype.getLatestTrackIndex=function(){for(var t,e=this.state.tracks.length,n=e-1;n>=0&&(!(null===(t=this.state.tracks[n])||void 0===t?void 0:t.animation)||this.state.tracks[n].animation==f.spine.core.AnimationState.emptyAnimation);n--)e=n;return e},n.prototype.resetSpine=function(){this.lastTime=0},n.prototype.setAnimationToEnd=function(t){var e=this.state.getCurrent(t);e.trackTime=e.trackEnd},n.prototype.setNewSkinByName=function(t){var e=this.skeleton;e.setSkin(null),e.setSlotsToSetupPose(),e.setSkinByName(t)},n}(f.spine.Spine);t.Spine=e}(e.PixiAsset||(e.PixiAsset={})),function(t){var e=function(){function t(){}return t.init=function(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return e=Object.keys(t).map((function(e){return new Promise((function(n){return h.sound.add(e,{url:t[e],preload:!0,loaded:function(){return n()}})}))})),[4,Promise.all(e)];case 1:return n.sent(),[2]}}))}))},t.play=function(t,e){return h.sound.exists(t)?h.sound.play(t,e):(Debug.log("PixiSound play","not exist",'"'+t+'"'),null)},t.muteAll=function(t){t?h.sound.muteAll():h.sound.unmuteAll()},t.volumeAll=function(t){h.sound.volumeAll=t},t.pauseByName=function(t){var e=h.sound.find(t);e?e.isPlaying&&!e.paused?e.pause():Debug.log("PixiSound pauseByName cannot pause",'"'+t+'"'):Debug.log("PixiSound pauseByName not exist",'"'+t+'"')},t.resumeByName=function(t){var e=h.sound.find(t);e?e.paused?e.resume():Debug.log("PixiSound resumeByName not paused",'"'+t+'"'):Debug.log("PixiSound resumeByName not exist",'"'+t+'"')},t.stopByName=function(t){var e=h.sound.find(t);e?(e.paused&&Debug.log("PixiSound stopByName. sound already paused.",'"'+t+'"'),e.stop()):Debug.log("PixiSound stopByName not exist",'"'+t+'"')},t.setVolumeByName=function(t,e){var n=h.sound.find(t);n&&(n.volume=e)},t.pauseByInstance=function(t){t&&!t.paused&&(t.paused=!0)},t.resumeByInstance=function(t){t&&t.paused&&(t.paused=!1)},t.stopByInstance=function(t){return null==t||t.stop(),null},t.setVolumeByInstance=function(t,e){t&&(t.volume=e)},t}();t.PixiSound=e}(e.PixiAsset||(e.PixiAsset={})),function(t){t[t.normal=0]="normal",t[t.press=1]="press",t[t.disable=2]="disable"}(y=e.eButtonState||(e.eButtonState={})),function(t){var e=function(e){function n(t){var n=e.call(this)||this;return n.name=t,n}return r(n,e),Object.defineProperty(n.prototype,"ToggleState",{get:function(){return this.currentToggle},enumerable:!1,configurable:!0}),n.prototype.init=function(t){var e=this;return Array.isArray(t)?this.textureInfo={default:Array.from(t)}:this.textureInfo=Object.assign({},t),Object.keys(this.textureInfo).map((function(t){return e.textureInfo[t]=e.textureInfo[t].map((function(t){return/\.(png)$/.test(t)?t:t+".png"}))})),this.currentToggle=Object.keys(this.textureInfo)[0],this.state=y.normal,this.on("pointerdown",this.setTexture.bind(this,y.press)),this.on("pointerup",this.setTexture.bind(this,y.normal)),this.on("pointerupoutside",this.setTexture.bind(this,y.normal)),this.on("setInteractive",(function(t){e.buttonMode=e.interactive=t,e.setTexture(t?y.normal:y.disable)})),this},n.prototype.addTo=function(t,e,n,i){void 0===n&&(n=new f.Point(.5,.5)),void 0===i&&(i=y.normal),this.setParent(t),"number"==typeof e?this.position.set(e):this.position.copyFrom(e),"number"==typeof n?this.anchor.set(n):this.anchor.copyFrom(n),this.setTexture(i),this.setDisable(i==y.disable)},n.prototype.toggle=function(t){var e=this;if(t)this.currentToggle=t;else{if(2!=Object.keys(this.textureInfo).length)return void Debug.log('Button "'+this.name+'" toggle fail. not 2 state.',this.textureInfo);this.currentToggle=Object.keys(this.textureInfo).find((function(t){return t!=e.currentToggle}))}this.setTexture(y.normal)},n.prototype.setDisable=function(t){this.emit("setInteractive",!t)},n.prototype.setTexture=function(e){this.state=e,this.texture=t.AssetLoader.getTexture(this.textureInfo[this.currentToggle][this.state])},n}(f.Sprite);t.Button=e}(e.PixiAsset||(e.PixiAsset={})),function(t){var e=function(e){function n(t,n){var i=e.call(this,"",n)||this;return i.name=t,i}return r(n,e),n.init=function(e){return c(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=v.font,[4,t.AssetLoader.loadAsset(Object.keys(e).map((function(t){return{name:t,type:n,source:e[t]}})))];case 1:return i.sent(),[2]}}))}))},n.drawFont=function(t,e,i,r,s,a){void 0===r&&(r=0),void 0===s&&(s=.5);var u=new n(t,o(o({},a),{fontName:e,fontSize:i}));return"number"==typeof r?u.position.set(r):u.position.copyFrom(r),"number"==typeof s?u.anchor.set(s):u.anchor.copyFrom(s),u},n.prototype.setTexture=function(t){this.fontName=t},n}(f.BitmapText);t.BitmapText=e}(e.PixiAsset||(e.PixiAsset={})),function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.init=function(e,n){return c(this,void 0,void 0,(function(){return l(this,(function(i){switch(i.label){case 0:return this.fps=e,[4,t.AssetLoader.loadAsset(Object.keys(n).map((function(t){return{name:t,type:v.particle,source:n[t]}})))];case 1:return i.sent(),[2]}}))}))},n.playParticle=function(e,i,r,o){var s=t.AssetLoader.getAsset(i).data,a=e.addChild(new f.ParticleContainer);a.blendMode=f.particles.ParticleUtils.getBlendMode(s.blendMode);var u=new n(a,t.AssetLoader.getTexture(r),s),c=o||{},l=c.pos,p=c.emitterLifeTime,d=c.complete;return l&&u.updateSpawnPos(l.x,l.y),null!=p&&(u.emitterLifetime=p),u.autoUpdate=!0,u.playOnce((function(){return d&&d()})),u},n.playAnimatedParticle=function(e,i,r,o){var s=t.AssetLoader.getAsset(i).data,a=e.addChild(new f.ParticleContainer);a.blendMode=f.particles.ParticleUtils.getBlendMode(s.blendMode);var u=o||{},c=u.framerate,l=u.pos,p=u.emitterLifeTime,d=u.complete,h=Object.values(t.AssetLoader.getAsset(r).textures),m=new n(a,this.getMultAnimatedParticleArt(3,h,c),s);return m.particleConstructor=f.particles.AnimatedParticle,m.orderedArt=!0,l&&m.updateSpawnPos(l.x,l.y),null!=p&&(m.emitterLifetime=p),m.autoUpdate=!0,m.playOnce((function(){return d&&d()})),m},n.getMultAnimatedParticleArt=function(t,e,n,i){var r=this;return void 0===n&&(n=this.fps),void 0===i&&(i=!0),Array(t).fill(1).map((function(t){var o=m.default.utils.random(0,e.length,1),s=p(p([],e.slice(o)),e.slice(0,o));return r.getAnimatedParticleArt(s,n,i)}))},n.getAnimatedParticleArt=function(t,e,n){return void 0===e&&(e=this.fps),void 0===n&&(n=!0),{framerate:e,loop:n,textures:t}},n}(f.particles.Emitter);t.ParticleEmitter=e}(e.PixiAsset||(e.PixiAsset={}))},37:t=>{"use strict";t.exports=JSON.parse('{"name":"AssetManager","version":"1.0.0","description":"","scripts":{"fileParse":"node fileParse.js","build:dev":"webpack --config webpack.dev.js","serve":"live-server ./dist","start":"concurrently \'npm:build:dev\' \'npm:serve\'","build":"npm run fileParse && webpack --config webpack.prod.js"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@types/node":"^15.0.2","clean-webpack-plugin":"^4.0.0-alpha.0","concurrently":"^6.0.2","copy-webpack-plugin":"^8.1.1","copyfiles":"^2.4.1","fs-extra":"^10.0.0","html-webpack-plugin":"^5.3.1","image-minimizer-webpack-plugin":"^2.2.0","imagemin":"^8.0.0","imagemin-pngquant":"^9.0.2","imagemin-webp":"^6.0.0","live-server":"^1.2.1","md5-dir":"^0.2.0","replace-in-file":"^6.2.0","replace-in-file-webpack-plugin":"^1.0.6","ts-loader":"^9.1.1","typescript":"^4.2.4","webpack":"^5.36.2","webpack-cli":"^4.6.0","webpack-merge":"^5.7.3"},"dependencies":{"@pixi/sound":"4.0.2","gsap":"3.6.0","number-precision":"^1.5.0","pixi-particles":"4.3.0","pixi-spine":"2.1.14","pixi.js-legacy":"5.3.9"}}')},295:t=>{"use strict";t.exports=window.PIXI},15:t=>{"use strict";t.exports=window.gsap},799:t=>{"use strict";t.exports=window.PIXI.sound}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}(134);var t,e}));