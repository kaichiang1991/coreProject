!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("PIXI"),require("PIXI.spine"),require("gsap"));else if("function"==typeof define&&define.amd)define(["PIXI","PIXI.spine","gsap"],t);else{var n="object"==typeof exports?t(require("PIXI"),require("PIXI.spine"),require("gsap")):t(e.PIXI,e["PIXI.spine"],e.gsap);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(e,t,n){return(()=>{"use strict";var r={222:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PixiAsset=t.eAssetType=void 0;var f=a(n(295));window.PIXI=f,n(459);var d=l(n(15));window.gsap=d.default;var h,m,g,v=n(37);!function(e){e[e.img=0]="img",e[e.spriteSheet=1]="spriteSheet",e[e.spine=2]="spine"}(h=t.eAssetType||(t.eAssetType={})),m=t.PixiAsset||(t.PixiAsset={}),g=function(){function e(){}return e.init=function(e){console.log("%c"+v.name+" 版號: "+v.version,"color:green; background-color:cyan; font-size:16px; padding:2px;"),this.loader=e.loader,this.renderer=e.renderer},e.loadAsset=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return t=new Array,Array.isArray(e)||(e=[e]),e.map((function(e){var r=e.name,i=e.source;n.loader.resources[r]?console.log('%cloadAsset "'+r+'" exist.',"color: yellow"):n.checkLoadArg(e)?n.loader.add(r,i).onComplete.add((function(){return t.push(n.parseAsset(e))})):console.log("checkLoadArg","fail",e)})),[4,Promise.all(p([new Promise((function(e){return n.loader.load((function(){return e()}))}))],t))];case 1:return r.sent(),[2]}}))}))},e.getAsset=function(e){var t;return(null===(t=this.loader)||void 0===t?void 0:t.resources[e])||console.log("%cgetAsset fail. "+e,"color: yellow"),this.loader.resources[e]},e.getTexture=function(e){return f.utils.TextureCache[e]||console.log("%cgetTexture fail. "+e,"color: yellow"),f.utils.TextureCache[e]},e.parseAsset=function(e){return u(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(i){switch(t=e.type,n=e.name,t){case h.img:this.renderer.plugins.prepare.upload(this.getTexture(n));break;case h.spriteSheet:this.renderer.plugins.prepare.upload(this.getTexture(n+"_image"));break;case h.spine:Object.keys(this.loader.resources).map((function(e){new RegExp(n+"_atlas_").test(e)&&r.renderer.plugins.prepare.add(r.getTexture(e))})),this.renderer.plugins.prepare.upload()}return[2]}))}))},e.checkLoadArg=function(e){var t=!0,n=e.type,r=e.name;switch(n){case h.img:case h.spriteSheet:case h.spine:t=!!r}return t},e}(),m.AssetLoader=g,function(e){var t=function(t){function n(n){return t.call(this,e.AssetLoader.getTexture(n))||this}return i(n,t),n}(f.Sprite);e.Sprite=t;var n=function(t){function n(e,n){return void 0===n&&(n=!0),"string"==typeof e[0]&&(e=e.map((function(e){return f.Texture.from(e)}))),t.call(this,e,n)||this}return i(n,t),n.init=function(t){return u(this,void 0,void 0,(function(){var n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return n=h.spriteSheet,r=Object.keys(t),[4,e.AssetLoader.loadAsset(r.map((function(e){return{type:n,name:t[e].name,source:t[e].source}})))];case 1:return o.sent(),r.map((function(n){var r;i.animSpriteMap[n]="string"==typeof t[n].animName?null===(r=e.AssetLoader.getAsset(t[n].name).spritesheet)||void 0===r?void 0:r.animations[t[n].animName]:t[n].animName.map((function(e){return f.Texture.from(e)}))})),[2]}}))}))},n.playAnimation=function(e,t){if(!this.animSpriteMap[e])return console.log('%cplayAnimation "'+e+'" not exist.',"color:yellow"),null;var r=new n(this.animSpriteMap[e]);if(t){var i=t.animSpeed,o=t.loop,s=t.autoPlay;r.animationSpeed=i||r.animationSpeed,r.loop=null==o||o,s&&r.play()}return r},n.animSpriteMap={},n}(f.AnimatedSprite);e.AnimatedSprite=n}(t.PixiAsset||(t.PixiAsset={})),function(e){var t=function(t){function n(n){return t.call(this,e.AssetLoader.getAsset(n).spineData)||this}return i(n,t),n.init=function(t){return u(this,void 0,void 0,(function(){var n,r;return c(this,(function(i){switch(i.label){case 0:return n=Object.keys(t),r=h.spine,[4,e.AssetLoader.loadAsset(n.map((function(e){return{name:e,type:r,source:t[e]}})))];case 1:return i.sent(),[2]}}))}))},n.playSpine=function(e){return new n(e)},n}(f.spine.Spine);e.Spine=t}(t.PixiAsset||(t.PixiAsset={}))},37:e=>{e.exports=JSON.parse('{"name":"AssetManager","version":"1.0.0","description":"","config":{"size":{"width":720,"height":1280}},"scripts":{"imageConvert":"node imageParse.js","build:dev":"webpack --config webpack.dev.js","serve":"live-server ./dist","start":"concurrently \'npm:build:dev\' \'npm:serve\'","build":"webpack --config webpack.prod.js"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@types/node":"^15.0.2","clean-webpack-plugin":"^4.0.0-alpha.0","concurrently":"^6.0.2","html-webpack-plugin":"^5.3.1","image-minimizer-webpack-plugin":"^2.2.0","image-webpack-loader":"^7.0.1","imagemin":"^8.0.0","imagemin-webp":"^6.0.0","imagemin-webp-webpack-plugin":"^3.3.4","live-server":"^1.2.1","replace-in-file-webpack-plugin":"^1.0.6","ts-loader":"^9.1.1","typescript":"^4.2.4","webpack":"^5.36.2","webpack-cli":"^4.6.0","webpack-merge":"^5.7.3"},"dependencies":{"gsap":"3.6.0","pixi-spine":"2.1.14","pixi.js-legacy":"5.3.9"}}')},295:t=>{t.exports=e},459:e=>{e.exports=t},15:e=>{e.exports=n}},i={};return function e(t){var n=i[t];if(void 0!==n)return n.exports;var o=i[t]={exports:{}};return r[t].call(o.exports,o,o.exports,e),o.exports}(222)})()}));