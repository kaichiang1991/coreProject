!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{var e={952:(e,t,n)=>{"use strict";e.exports=n.p+"assets/img/SystemInfo.json"},177:(e,t,n)=>{"use strict";e.exports=n.p+"assets/img_webp/SystemInfo.json"},326:(e,t,n)=>{"use strict";e.exports=n.p+"assets/img_webp/SystemInfo.webp"},57:(e,t,n)=>{var r={"./img/SystemInfo.json":952,"./img/SystemInfo.png":919,"./img_webp/SystemInfo.json":177,"./img_webp/SystemInfo.webp":326};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=57},766:(e,t,n)=>{const{name:r,version:i}=n(37);e.exports={name:r,version:i,size:{width:720,height:1280},fps:60,canUseWebp:!1,portrait:!0}},919:(e,t,n)=>{"use strict";e.exports=n.p+"assets/img/SystemInfo.png"},412:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return Array.isArray(e)||(e=[e]),[4,Promise.all(e.map((function(e){return Promise.resolve().then((function(){return o(n(57)("./"+e))}))})))];case 1:return[2,t.sent().map((function(e){return e.default}))]}}))}))}},570:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemErrorManager=void 0;var c=o(n(295));window.PIXI=c;var u=l(n(15));window.gsap=u.default;var p,f=l(n(766)),d=l(n(412)),h=f.default.name,g=f.default.version;!function(e){e[e.blackMask=2e3]="blackMask",e[e.promptOutPanel=2001]="promptOutPanel",e[e.alarm=2002]="alarm",e[e.button=2003]="button",e[e.text=2004]="text"}(p||(p={}));var m=function(){function e(){}return Object.defineProperty(e,"IsError",{get:function(){return this.isShowingError},enumerable:!1,configurable:!0}),e.init=function(e,t){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return console.log("%c"+h+" 版號: "+g,"color:#E6A23C; background-color:#909399; font-size:16px; padding:0 5px; font-family: 600 Ariel"),n=f.default,[4,supportWebp()];case 1:return n.canUseWebp=a.sent(),this.stage=e,this.stage.sortableChildren=!0,this.externalConfig=t,r=PixiAsset.AssetLoader,[4,d.default([(f.default.canUseWebp?"img_webp":"img")+"/SystemInfo.json"])];case 2:return i=a.sent().slice(0),[4,r.loadAsset({type:eAssetType.spriteSheet,name:"SystemInfo",source:i[0]})];case 3:return a.sent(),o=t.size.width>t.size.height?t.size.width:t.size.height,this.blackMask=(new c.Graphics).beginFill(0,1).drawRect(0,0,o,o).endFill(),this.blackMask.zIndex=p.blackMask,this.blackMask.interactive=!0,[2]}}))}))},e.activeBlackMask=function(e,t){var n;void 0===e&&(e=!0),void 0===t&&(t=1),e?(this.blackMask.alpha=t,this.blackMask.setParent(this.stage)):null===(n=this.blackMask.parent)||void 0===n||n.removeChild(this.blackMask)},e.showError=function(e){var t=this;if(!this.isShowingError){this.isShowingError=!0,this.activeBlackMask();var n=PixiAsset.AssetLoader.getAsset("SystemInfo"),r=new c.TextStyle({fontFamily:LocalizationManager.getLanguage()==eLanguage.CHS?"微軟正黑體":"Arial",fontSize:LocalizationManager.getLanguage()==eLanguage.CHS?56:58,fontWeight:"bold",letterSpacing:1,fill:"white",align:"center",wordWrap:!0,wordWrapWidth:this.externalConfig.portrait?720:1200}),i=new c.Text(e,r),o=new c.Sprite(n.textures["System_Alert.png"]),a=new c.Sprite(n.textures["System_Confirm_"+(LocalizationManager.getLanguage()==eLanguage.CHS?"CHS":"ENG")+".png"]);a.interactive=a.buttonMode=!0,i.anchor.set(.5).copyTo(o.anchor).copyTo(a.anchor),this.blackMask.addChild(o,a,i),a.on("pointerover",(function(){return a.tint=14606046})).on("pointerout",(function(){return a.tint=16777215})).on("pointerdown",(function(){return a.tint=9737364})).on("pointertap",(function(){a.tint=16777215,window.dispatchEvent(new CustomEvent(eEventName.exitGame,{detail:{url:ParameterParse.UrlParser.exitUrl}}))}));var s=function(){var e=i.position,n=i.style,r=i.height,s=t.externalConfig,l=s.portrait,c=s.size,u=c.height,p=c.width;l?(n.wordWrapWidth=720,e.set(p/2,u/2),o.position.set(p/2,u/2-r/2-50),a.position.set(p/2,u/2+r/2+80)):(n.wordWrapWidth=1200,e.set(u/2,p/2),o.position.set(u/2,p/2-r/2-50),a.position.set(u/2,p/2+r/2+80))};s(this.externalConfig),EventHandler.on(eEventName.orientationChange,s)}},e.showPrompOut=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,new Promise((function(n){if(t.isShowingPromptOut)n();else{t.isShowingPromptOut=!0,t.activeBlackMask(!0,.7);var r=PixiAsset.AssetLoader.getAsset("SystemInfo"),i=new c.Graphics,o=new c.TextStyle({fontWeight:"bold",fontSize:48,fill:"white",align:"center",fontFamily:LocalizationManager.getLanguage()==eLanguage.ENG?"Arial":"微軟正黑體"}),a=new c.Text(e,o),s=new c.Sprite(r.textures["System_Alert.png"]),l=new c.Sprite(r.textures["System_Close.png"]);l.interactive=l.buttonMode=!0,l.zIndex=p.button,a.anchor.set(.5).copyTo(s.anchor).copyTo(l.anchor),a.zIndex=p.text,s.zIndex=p.alarm,i.zIndex=p.promptOutPanel,t.stage.addChild(i,s,l,a);var u=function(){var e=a.position,n=a.width,r=t.externalConfig,o=r.portrait,c=r.size,u=c.height,p=c.width;o?(e.set(p/2+30,u/2),s.position.set(e.x-n/2-35,u/2),l.position.set(640,570)):(e.set(u/2+30,p/2),s.position.set(e.x-n/2-35,p/2),l.position.set(950,290)),i.clear().beginFill(0,.8).drawRoundedRect(o?50:300,o?540:260,o?620:680,200,10).endFill()};l.on("pointertap",(function(){[i,s,l,a].map((function(e){return e.destroy()})),t.activeBlackMask(!1),EventHandler.off(eEventName.orientationChange,u),t.isShowingPromptOut=!1,n()})),u(t.externalConfig),EventHandler.on(eEventName.orientationChange,u)}}))]}))}))},e.closeAll=function(){this.closeAllAudio(),this.clearAllProcess(),this.clearAllTimeout(),this.clearAllEvent()},e.closeAllAudio=function(){var e={volume:0};EventHandler.dispatch(eEventName.setMusicVolume,e),EventHandler.dispatch(eEventName.setEffectVolume,e)},e.clearAllProcess=function(){u.default.exportRoot().kill()},e.clearAllTimeout=function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)},e.clearAllEvent=function(){EventHandler.removeAllListeners(),e.stage.removeAllListeners()},e.isShowingError=!1,e.isShowingPromptOut=!1,e}();t.SystemErrorManager=m},37:e=>{"use strict";e.exports=JSON.parse('{"name":"SystemErrorManager","version":"1.0.0","description":"","scripts":{"fileParse":"node fileParse.js","build:dev":"npm run fileParse && webpack --config webpack.dev.js","serve":"live-server ./dist","start":"concurrently \'npm:build:dev\' \'npm:serve\'","build":"npm run fileParse && webpack --config webpack.prod.js"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@types/node":"^15.0.2","clean-webpack-plugin":"^4.0.0-alpha.0","concurrently":"^6.0.2","copy-webpack-plugin":"^8.1.1","copyfiles":"^2.4.1","fs-extra":"^10.0.0","html-webpack-plugin":"^5.3.1","image-minimizer-webpack-plugin":"^2.2.0","imagemin":"^8.0.0","imagemin-pngquant":"^9.0.2","imagemin-webp":"^6.0.0","live-server":"^1.2.1","md5-dir":"^0.2.0","replace-in-file":"^6.2.0","replace-in-file-webpack-plugin":"^1.0.6","ts-loader":"^9.1.1","typescript":"^4.2.4","webpack":"^5.36.2","webpack-cli":"^4.6.0","webpack-merge":"^5.7.3"},"dependencies":{"@pixi/sound":"4.0.2","gsap":"3.6.0","number-precision":"^1.5.0","pixi-particles":"4.3.0","pixi-spine":"2.1.14","pixi.js-legacy":"5.3.9"}}')},295:e=>{"use strict";e.exports=window.PIXI},15:e=>{"use strict";e.exports=window.gsap}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(570)})()}));